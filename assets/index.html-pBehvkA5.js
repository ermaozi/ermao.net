import{_ as o,c as n,b as a,d as t,a as s,w as i,D as l,r as p,o as d}from"./app-BAtzL_nP.js";const m={};function g(u,e){const r=p("VPLink");return d(),n("div",null,[e[17]||(e[17]=a("p",null,"之前我的博客一直使用 wordpress，但是由于 wordpress 太过笨重、维护难度大、国内访问速度慢、还需要花钱租用后端服务器。所以我决定迁移到 github pages 重搞一个博客。",-1)),e[18]||(e[18]=a("p",null,"但是之前放在公网上的文章链接都是 wordpress 的，我又舍不得放弃这部分流量，所以用 cloudflare 进行URL重定向，原来的访问直接 301 跳转到了现在的地址。",-1)),e[19]||(e[19]=a("p",null,"需要迁移网站的同学不如试试这个方法，无痛迁移，还能保留原有的流量。",-1)),e[20]||(e[20]=a("h2",{id:"_1-在-cloudflare-解析你的域名",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_1-在-cloudflare-解析你的域名"},[a("span",null,"1. 在 cloudflare 解析你的域名")])],-1)),e[21]||(e[21]=a("p",null,[a("img",{src:"https://image.ermao.net/images/article/jqtuqouj/image.png",alt:"使用cloudflare进行URL重定向 示例图片"})],-1)),a("p",null,[e[3]||(e[3]=t("我要把 ",-1)),s(r,{href:"blog.ermao.net"},{default:i(()=>[...e[0]||(e[0]=[t("blog.ermao.net",-1)])]),_:1}),e[4]||(e[4]=t(" 跟 ",-1)),s(r,{href:"ermao.net"},{default:i(()=>[...e[1]||(e[1]=[t("ermao.net",-1)])]),_:1}),e[5]||(e[5]=t(" 的所有请求都重定向到 ",-1)),s(r,{href:"www.ermao.net"},{default:i(()=>[...e[2]||(e[2]=[t("www.ermao.net",-1)])]),_:1}),e[6]||(e[6]=t("。",-1))]),a("p",null,[e[9]||(e[9]=t("所以要将 ",-1)),s(r,{href:"blog.ermao.net"},{default:i(()=>[...e[7]||(e[7]=[t("blog.ermao.net",-1)])]),_:1}),e[10]||(e[10]=t(" 跟 ",-1)),s(r,{href:"ermao.net"},{default:i(()=>[...e[8]||(e[8]=[t("ermao.net",-1)])]),_:1}),e[11]||(e[11]=t(" 都在cloudflare上解析。这个 ip 可以随便填，但是代理状态必须是已代理。",-1))]),a("p",null,[e[13]||(e[13]=t("目标地址 ",-1)),s(r,{href:"www.ermao.net"},{default:i(()=>[...e[12]||(e[12]=[t("www.ermao.net",-1)])]),_:1}),e[14]||(e[14]=t(" 则正常使用",-1)),e[15]||(e[15]=a("code",null,"CNAME",-1)),e[16]||(e[16]=t("解析到 github pages 即可。",-1))]),e[22]||(e[22]=l('<h2 id="_2-在-cloudflare-进行url重定向" tabindex="-1"><a class="header-anchor" href="#_2-在-cloudflare-进行url重定向"><span>2. 在 cloudflare 进行URL重定向</span></a></h2><p><img src="https://image.ermao.net/images/article/jqtuqouj/image-1.png" alt="使用cloudflare进行URL重定向 示例图片"></p><p>依次点击<code>规则</code> -&gt; <code>重定向规则</code> -&gt; <code>创建规则</code>。</p><p><img src="https://image.ermao.net/images/article/jqtuqouj/image-2.png" alt="使用cloudflare进行URL重定向 示例图片"></p><p>规则名字随便写，字段类型选<code>主机名</code>，字段值填你要重定向的域名。</p><p>URl 重定向类型选<code>动态</code>，表达式填写你的目标地址，例如：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">concat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://www.ermao.net</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> http</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>完事点击<code>保存</code></p><h2 id="_3-等待生效" tabindex="-1"><a class="header-anchor" href="#_3-等待生效"><span>3. 等待生效</span></a></h2><p>这玩意生效还得几分钟到几小时，试着访问一下原域名，如果带着路径跳转到目标地址就说明生效了。</p><p>例如访问 <a href="https://blog.ermao.net/posts/vpn/" target="_blank" rel="noopener noreferrer">https://blog.ermao.net/posts/vpn/</a> 就直接跳转到 <a href="https://www.ermao.net/posts/vpn/" target="_blank" rel="noopener noreferrer">https://www.ermao.net/posts/vpn/</a> 了。</p><h2 id="_4-问题" tabindex="-1"><a class="header-anchor" href="#_4-问题"><span>4. 问题</span></a></h2><p>有啥问题可以留言，我会尽量解答。</p>',13))])}const f=o(m,[["render",g]]),k=JSON.parse('{"path":"/article/jqtuqouj/","title":"使用cloudflare进行URL重定向","lang":"zh-CN","frontmatter":{"title":"使用cloudflare进行URL重定向","createTime":"2024/08/31 21:12:45","permalink":"/article/jqtuqouj/","tags":["cloudflare","URL重定向","wordpress","github pages","博客"],"description":"之前我的博客一直使用 wordpress，但是由于 wordpress 太过笨重、维护难度大、国内访问速度慢、还需要花钱租用后端服务器。所以我决定迁移到 github pages 重搞一个博客。 但是之前放在公网上的文章链接都是 wordpress 的，我又舍不得放弃这部分流量，所以用 cloudflare 进行...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用cloudflare进行URL重定向\\",\\"image\\":[\\"https://image.ermao.net/images/article/jqtuqouj/image.png\\",\\"https://image.ermao.net/images/article/jqtuqouj/image-1.png\\",\\"https://image.ermao.net/images/article/jqtuqouj/image-2.png\\"],\\"dateModified\\":\\"2026-01-29T10:52:20.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://www.ermao.net/article/jqtuqouj/"}],["meta",{"property":"og:title","content":"使用cloudflare进行URL重定向"}],["meta",{"property":"og:description","content":"之前我的博客一直使用 wordpress，但是由于 wordpress 太过笨重、维护难度大、国内访问速度慢、还需要花钱租用后端服务器。所以我决定迁移到 github pages 重搞一个博客。 但是之前放在公网上的文章链接都是 wordpress 的，我又舍不得放弃这部分流量，所以用 cloudflare 进行..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://image.ermao.net/images/article/jqtuqouj/image.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-29T10:52:20.000Z"}],["meta",{"property":"article:tag","content":"博客"}],["meta",{"property":"article:tag","content":"github pages"}],["meta",{"property":"article:tag","content":"wordpress"}],["meta",{"property":"article:tag","content":"URL重定向"}],["meta",{"property":"article:tag","content":"cloudflare"}],["meta",{"property":"article:modified_time","content":"2026-01-29T10:52:20.000Z"}]]},"readingTime":{"minutes":1.9,"words":571},"git":{"createdTime":1725111420000,"updatedTime":1769683940000,"contributors":[{"name":"ermaozi","username":"ermaozi","email":"admin@ermao.net","commits":5,"avatar":"https://avatars.githubusercontent.com/ermaozi?v=4","url":"https://github.com/ermaozi"},{"name":"二猫子","username":"","email":"admin@ermao.net","commits":1,"avatar":"https://gravatar.com/avatar/dc87fcfdf4294b84202ae9476fc821f015b1fc0561a4d2c9ce8b87ce72d5b4be?d=retro"}]},"filePathRelative":"blog/文档/使用cloudflare进行URL重定向.md","headers":[],"categoryList":[{"id":"325369","sort":10003,"name":"文档"}]}');export{f as comp,k as data};
